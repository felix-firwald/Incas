<UserControl x:Class="Incas.Admin.Views.Pages.WorkspaceManager"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Incas.Admin.Views.Pages" xmlns:conv="clr-namespace:Incas.Core.Converters"
             mc:Ignorable="d" 
             d:DesignHeight="590" d:DesignWidth="1200">
    <UserControl.Resources>
        <ResourceDictionary>
            <conv:IEColorToBrushConverter x:Key="IEColorToBrushConverter"/>
            <conv:PathDataToGeometryConverter x:Key="PathDataToGeometryConverter"/>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="5*" MinWidth="200"/>
            <ColumnDefinition Width="4*" MinWidth="300"/>
        </Grid.ColumnDefinitions>
        <GroupBox Header="Классы (типы) объектов" Grid.RowSpan="2">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto" MinWidth="180"/>
                    <ColumnDefinition Width="1*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto"/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <WrapPanel Grid.ColumnSpan="2">
                    <Button Style="{StaticResource ButtonRectangle}" Click="AddClassClick" Visibility="{Binding CreatingClassVisibility}" HorizontalAlignment="Left">
                        <StackPanel Orientation="Horizontal">
                            <Path Fill="{StaticResource Buttons.Green}" VerticalAlignment="Center" Data="M11.5,12.5V16a.5.5,0,1,0,1,0V12.5H16a.5.5,0,1,0,0-1H12.5V8a.5.5,0,1,0-1,0v3.5H8a.5.5,0,1,0,0,1ZM5.6155,20A1.58,1.58,0,0,1,4,18.3845V5.6155A1.58,1.58,0,0,1,5.6155,4h12.769A1.58,1.58,0,0,1,20,5.6155v12.769A1.58,1.58,0,0,1,18.3845,20Z" Stretch="Uniform"/>
                            <Label Foreground="White" Content="Добавить класс"/>
                        </StackPanel>
                    </Button>
                    <Button Style="{StaticResource ButtonRectangle}" Visibility="{Binding CreatingClassVisibility}" ToolTip="Унаследовать новый класс от выбранного" Click="InheritClassClick">
                        <StackPanel Orientation="Horizontal">
                            <Path Fill="{StaticResource Buttons.Green}" VerticalAlignment="Center" Stretch="Uniform" Data="M5.3872,20.9029a1.997,1.997,0,0,1-2.0045-2A1.9048,1.9048,0,0,1,3.81,17.6684a2.0138,2.0138,0,0,1,1.0723-.7V8.3816A2.0082,2.0082,0,0,1,3.81,7.6789a1.9167,1.9167,0,0,1-.4277-1.2375,1.9912,1.9912,0,0,1,2-2A1.9167,1.9167,0,0,1,6.62,4.8691a2.0082,2.0082,0,0,1,.7027,1.0723H12L10.01,3.97a.45.45,0,0,1-.1655-.345.5038.5038,0,0,1,.1655-.3625.4669.4669,0,0,1,.7132,0l2.6135,2.6133a.78.78,0,0,1,0,1.1307L10.7172,9.6259a.5067.5067,0,0,1-.3443.1557.47.47,0,0,1-.3632-.1557.467.467,0,0,1,0-.7133L12,6.9414H7.3229a2.0326,2.0326,0,0,1-1.44,1.44v8.581a2.0068,2.0068,0,0,1,1.072.7028,1.9967,1.9967,0,0,1-1.5675,3.2375ZM17.84,4.4414a1.9394,1.9394,0,0,1,1.418.582,1.9169,1.9169,0,0,1,.5865,1.4135,1.9394,1.9394,0,0,1-.582,1.418,1.917,1.917,0,0,1-1.4135.5865,1.9392,1.9392,0,0,1-1.418-.582,1.917,1.917,0,0,1-.5865-1.4135,1.9392,1.9392,0,0,1,.582-1.418A1.9169,1.9169,0,0,1,17.84,4.4414ZM5.3827,19.9029A1,1,0,1,0,4.67,18.19a1,1,0,0,0,.7125,1.7125Zm0-12.4615a1.0077,1.0077,0,0,0,.7125-1.7125,1.0266,1.0266,0,0,0-1.425,0,1,1,0,0,0,.7125,1.7125Zm12.4615,0a1.0077,1.0077,0,0,0,.7125-1.7125,1.0077,1.0077,0,0,0-1.425,1.425A.9676.9676,0,0,0,17.8442,7.4414Z M15.6155,17.29v1.731a.3845.3845,0,0,0,.769,0V17.29h1.731a.3845.3845,0,0,0,0-.7689h-1.731V14.79a.3845.3845,0,0,0-.769,0v1.731h-1.731a.3845.3845,0,0,0,0,.769ZM16,20.9057a3.9761,3.9761,0,0,1-4-4,3.9761,3.9761,0,0,1,4-4,3.9761,3.9761,0,0,1,4,4,3.9761,3.9761,0,0,1-4,4Z"/>
                            <Label Foreground="White" Content="Унаследовать"/>
                        </StackPanel>
                    </Button>
                    <Button Style="{StaticResource ButtonRectangle}" Click="EditClassClick" Visibility="{Binding UpdatingClassVisibility}" ToolTip="Редактировать выбранный класс">
                        <StackPanel Orientation="Horizontal">
                            <Path Fill="{StaticResource Buttons.Green}" VerticalAlignment="Center" Stretch="Uniform" Data="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                            <Label Foreground="White" Content="Редактировать"/>
                        </StackPanel>
                    </Button>
                    <Button Style="{StaticResource ButtonSquare}" Click="FixClassClick" Visibility="{Binding UpdatingClassVisibility}" ToolTip="Исправить выбранный класс">
                        <Path Fill="{StaticResource LightPurple}" VerticalAlignment="Center" Data="M16 4.5a4.5 4.5 0 0 1-1.703 3.526L13 5l2.959-1.11q.04.3.041.61 M11.5 9c.653 0 1.273-.139 1.833-.39L12 5.5 11 3l3.826-1.53A4.5 4.5 0 0 0 7.29 6.092l-6.116 5.096a2.583 2.583 0 1 0 3.638 3.638L9.908 8.71A4.5 4.5 0 0 0 11.5 9m-1.292-4.361-.596.893.809-.27a.25.25 0 0 1 .287.377l-.596.893.809-.27.158.475-1.5.5a.25.25 0 0 1-.287-.376l.596-.893-.809.27a.25.25 0 0 1-.287-.377l.596-.893-.809.27-.158-.475 1.5-.5a.25.25 0 0 1 .287.376M3 14a1 1 0 1 1 0-2 1 1 0 0 1 0 2" />
                    </Button>
                    <!--<Button Style="{StaticResource ButtonSquare}" Background="{StaticResource Area}" Click="RemoveClassClick" Visibility="{Binding RemovingClassVisibility}" ToolTip="Удалить выбранный класс и все его объекты">
                        <Path Fill="{StaticResource Error}" Data="M8 1c-1.573 0-3.022.289-4.096.777C2.875 2.245 2 2.993 2 4s.875 1.755 1.904 2.223C4.978 6.711 6.427 7 8 7s3.022-.289 4.096-.777C13.125 5.755 14 5.007 14 4s-.875-1.755-1.904-2.223C11.022 1.289 9.573 1 8 1 M2 7v-.839c.457.432 1.004.751 1.49.972C4.722 7.693 6.318 8 8 8s3.278-.307 4.51-.867c.486-.22 1.033-.54 1.49-.972V7c0 .424-.155.802-.411 1.133a4.51 4.51 0 0 0-4.815 1.843A12 12 0 0 1 8 10c-1.573 0-3.022-.289-4.096-.777C2.875 8.755 2 8.007 2 7m6.257 3.998L8 11c-1.682 0-3.278-.307-4.51-.867-.486-.22-1.033-.54-1.49-.972V10c0 1.007.875 1.755 1.904 2.223C4.978 12.711 6.427 13 8 13h.027a4.55 4.55 0 0 1 .23-2.002m-.002 3L8 14c-1.682 0-3.278-.307-4.51-.867-.486-.22-1.033-.54-1.49-.972V13c0 1.007.875 1.755 1.904 2.223C4.978 15.711 6.427 16 8 16c.536 0 1.058-.034 1.555-.097a4.5 4.5 0 0 1-1.3-1.905 M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m-.646-4.854.646.647.646-.647a.5.5 0 0 1 .708.708l-.647.646.647.646a.5.5 0 0 1-.708.708l-.646-.647-.646.647a.5.5 0 0 1-.708-.708l.647-.646-.647-.646a.5.5 0 0 1 .708-.708" VerticalAlignment="Center"/>
                    </Button>-->
                    <Button Style="{StaticResource ButtonRectangle}" Click="RemoveClassClick" Visibility="{Binding RemovingClassVisibility}" ToolTip="Удалить выбранный класс и все его объекты">
                        <StackPanel Orientation="Horizontal">
                            <Path Fill="{StaticResource Buttons.Red}" Stretch="Uniform" Data="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z" VerticalAlignment="Center"/>
                            <Label Foreground="White" Content="Удалить"/>
                        </StackPanel>
                    </Button>
                </WrapPanel>
                <ListBox Style="{StaticResource ListBoxMain}" ItemContainerStyle="{StaticResource ListBoxItemGray}" ItemsSource="{Binding ClassesCategories}" SelectedItem="{Binding SelectedCategory}" Grid.Row="1">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <StackPanel Orientation="Horizontal">
                                    <Path Height="15" Width="15" Stretch="Uniform" Fill="{Binding Color, Converter={StaticResource IEColorToBrushConverter}}" Data="{Binding Icon, Converter={StaticResource PathDataToGeometryConverter}}"/>
                                    <Label FontFamily="{StaticResource Rubik}" Foreground="White" Content="{Binding Name}"/>
                                </StackPanel>
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
                <ListBox Style="{StaticResource ListBoxMain}" ItemsSource="{Binding Classes}" SelectedItem="{Binding SelectedClass}" Grid.ColumnSpan="2" Grid.RowSpan="2" Grid.Row="1" Grid.Column="1">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Path Margin="0,0,10,0" Fill="{StaticResource Buttons.Green}" Stretch="Uniform" Height="15" Width="15" VerticalAlignment="Center" Data="M480-112.77q-8.46 0-16.15-1.73-7.7-1.73-15.16-5.96L173.31-273.15q-15.16-8.7-24.23-23.35-9.08-14.65-9.08-32.81v-301.38q0-18.16 9.08-32.81 9.07-14.65 24.23-23.35l275.38-152.69q7.46-4.23 15.16-5.96 7.69-1.73 16.15-1.73 8.46 0 16.15 1.73 7.7 1.73 15.16 5.96l275.38 152.69q15.16 8.7 24.23 23.35 9.08 14.65 9.08 32.81v301.38q0 18.16-9.08 32.81-9.07 14.65-24.23 23.35L511.31-120.46q-7.46 4.23-15.16 5.96-7.69 1.73-16.15 1.73ZM367.85-565.38q22.77-27.62 51.88-41.12Q448.85-620 480-620q31.92 0 60.65 13.5 28.73 13.5 51.5 41.12L756.77-657 492.31-804.15q-6.16-3.08-12.31-3.08t-12.31 3.08L203.23-657l164.62 91.62ZM460-160.15v-180.23q-52-9.39-86-48.04-34-38.66-34-91.58 0-13.31 2.15-24.85 2.16-11.53 6.7-24.38L180-623.85v293.77q0 6.93 3.08 12.31 3.07 5.39 9.23 9.23L460-160.15ZM480-380q41.46 0 70.73-29.27Q580-438.54 580-480q0-41.46-29.27-70.73Q521.46-580 480-580q-41.46 0-70.73 29.27Q380-521.46 380-480q0 41.46 29.27 70.73Q438.54-380 480-380Zm20 219.85 267.69-148.39q6.16-3.84 9.23-9.23 3.08-5.38 3.08-12.31v-293.77l-168.85 94.62q4.54 13.85 6.7 24.88Q620-493.31 620-480q0 52.92-34 91.58-34 38.65-86 48.04v180.23Z"/>
                                <TextBlock Foreground="White" Text="{Binding Name}"/>
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </Grid>

        </GroupBox>
        <TabControl Style="{StaticResource TabControlMain}" ItemContainerStyle="{StaticResource TabItemMain}" Grid.Column="1" Grid.RowSpan="2" Background="{x:Null}">
            <TabItem Header="Настройки" BorderBrush="{DynamicResource LightPurple}" >
                <GroupBox Header="Первичные настройки">
                    <StackPanel>
                        <Border Visibility="{Binding EditingWorkspaceVisibility}" Margin="5" CornerRadius="8" MinWidth="100" BorderThickness="1" BorderBrush="#7F1E90FF" Background="#331E90FF">
                            <Grid MinHeight="60">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition MinHeight="30"/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Path Fill="{StaticResource PrimaryMain}" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="Uniform" Grid.RowSpan="2" Data="M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5m0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78zM5.048 3.967l-.087.065zm-.431.355A4.98 4.98 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8zm.344 7.646.087.065z"/>
                                <TextBlock Grid.Column="1" Foreground="White" VerticalAlignment="Bottom">Рабочее пространство</TextBlock>
                                <TextBlock Grid.Column="1" Grid.Row="1" VerticalAlignment="Top" Margin="0,0,5,5">
                                    <Run>Чтобы открыть основные настройки рабочего пространства, </Run>
                                    <Hyperlink Click="OpenSettingsClick" IsEnabled="{Binding EditingWorkspaceEnabled}">нажмите сюда.</Hyperlink>
                                </TextBlock>
                            </Grid>
                        </Border>
                        <Border Visibility="{Binding EditingWorkspaceVisibility}" Margin="5" CornerRadius="8" MinWidth="100" BorderThickness="1" BorderBrush="#7F1E90FF" Background="#331E90FF">
                            <Grid MinHeight="60">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition MinHeight="30"/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Path Fill="{StaticResource PrimaryMain}" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="Uniform" Height="15" Grid.RowSpan="2" Data="M224.62-160q-27.62 0-46.12-18.5Q160-197 160-224.62v-510.76q0-27.62 18.5-46.12Q197-800 224.62-800h510.76q27.62 0 46.12 18.5Q800-763 800-735.38v510.76q0 27.62-18.5 46.12Q763-160 735.38-160H224.62ZM200-600.08h560v-135.3q0-9.24-7.69-16.93-7.69-7.69-16.93-7.69H224.62q-9.24 0-16.93 7.69-7.69 7.69-7.69 16.93v135.3Zm0 200.16h560v-160.16H200v160.16ZM224.62-200h510.76q9.24 0 16.93-7.69 7.69-7.69 7.69-16.93v-135.3H200v135.3q0 9.24 7.69 16.93 7.69 7.69 16.93 7.69Zm78.32-447.85q-13.79 0-22.98-9.32-9.19-9.33-9.19-23.12 0-13.79 9.33-22.98 9.32-9.19 23.11-9.19t22.98 9.33q9.19 9.32 9.19 23.11t-9.32 22.98q-9.33 9.19-23.12 9.19Zm0 200.16q-13.79 0-22.98-9.33-9.19-9.33-9.19-23.11 0-13.79 9.33-22.99 9.32-9.19 23.11-9.19t22.98 9.33q9.19 9.33 9.19 23.11 0 13.79-9.32 22.99-9.33 9.19-23.12 9.19Zm0 200.15q-13.79 0-22.98-9.33-9.19-9.32-9.19-23.11t9.33-22.98q9.32-9.19 23.11-9.19t22.98 9.32q9.19 9.33 9.19 23.12 0 13.79-9.32 22.98-9.33 9.19-23.12 9.19Z"/>
                                <TextBlock Grid.Column="1" Foreground="White" VerticalAlignment="Bottom">Компоненты</TextBlock>
                                <TextBlock Grid.Column="1" Grid.Row="1" VerticalAlignment="Top">
                                    <Run>Чтобы настроить список компонент, </Run>
                                    <Hyperlink Click="OpenComponentsSettings" IsEnabled="{Binding EditingWorkspaceEnabled}">нажмите сюда.</Hyperlink>
                                </TextBlock>
                            </Grid>
                        </Border>
                        <Border Visibility="{Binding EditingWorkspaceVisibility}" Margin="5" CornerRadius="8" MinWidth="100" BorderThickness="1" BorderBrush="#7F1E90FF" Background="#331E90FF">
                            <Grid MinHeight="60">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition MinHeight="30"/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Path Fill="{StaticResource PrimaryMain}" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="Uniform" Height="15" Grid.RowSpan="2" Data="M224.85-140q-35 0-57.62-19.38-22.61-19.39-22.61-50.93 0-22 11.23-35.34Q167.08-259 184.62-259q16.53 0 28.26 11.62 11.74 11.61 11.74 27.92 0 11.15-6.66 19.38-6.65 8.23-16.11 10.16 3.84 3.84 10.77 6.54 6.92 2.69 15.38 2.69 21.15-.23 34.27-18.58 13.11-18.35 21.27-57.88L346.31-580h-98.62q-8.54 0-14.27-5.73T227.69-600q0-8.54 5.73-14.27t14.27-5.73h105.93l19.46-104.77q8.54-46.46 32.11-70.85Q428.77-820 465.38-820q34.77 0 57.39 20.23 22.61 20.23 22.61 51.54 0 21.54-11.23 34.88Q522.92-700 505.38-700q-16.53 0-28.26-11.23-11.74-11.23-11.74-27.77 0-11.15 6.66-19.38 6.65-8.24 16.88-10.16-3.84-4.61-11.92-7.69t-16.54-3.08q-19.08.46-30.92 16-11.85 15.54-17.69 45.85l-17 97.46h157.46q8.54 0 14.27 5.73t5.73 14.27q0 8.08-5.27 13.69-5.27 5.62-13.12 6.08h-37.69l96.08 110 96.07-110h-37.69q-7.84-.46-13.11-6.08-5.27-5.61-5.27-13.69 0-8.54 5.73-14.27t14.27-5.73h120q8.54 0 14.27 5.73t5.73 14.27q0 8.54-5.73 14.27T792.31-580h-31.23L639.15-440l122.7 140h30.46q8.54 0 14.27 5.73t5.73 14.27q0 8.54-5.73 14.27T792.31-260h-120q-8.54 0-14.27-5.73T652.31-280q0-8.08 5.27-13.69 5.27-5.62 13.11-6.08h37.69L612.31-410l-96.08 110.23h37.69q7.85.46 13.12 6.08 5.27 5.61 5.27 13.69 0 8.54-5.73 14.27T552.31-260h-120q-8.54 0-14.27-5.73T412.31-280q0-8.54 5.73-14.27t14.27-5.73h31.23l121.92-140-121.92-140h-76.77l-64 327.85q-11.08 57.3-35.08 84.73-24 27.42-62.84 27.42Z"/>
                                <TextBlock Grid.Column="1" Foreground="White" VerticalAlignment="Bottom">Команды</TextBlock>
                                <TextBlock Grid.Column="1" Grid.Row="1" VerticalAlignment="Top">
                                    <Run>Чтобы настроить список команд, </Run>
                                    <Hyperlink Click="OpenCommandsSettings" IsEnabled="{Binding EditingWorkspaceEnabled}">нажмите сюда.</Hyperlink>
                                </TextBlock>
                            </Grid>
                        </Border>
                        <Border Visibility="{Binding EditingWorkspaceVisibility}" Margin="5" CornerRadius="8" MinWidth="100" BorderThickness="1" BorderBrush="#7F1E90FF" Background="#331E90FF">
                            <Grid MinHeight="60">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Path Fill="{StaticResource PrimaryMain}" VerticalAlignment="Center" HorizontalAlignment="Center" Height="15" Stretch="Uniform" Grid.RowSpan="2" Data="M103.85-281.23q0-27.85 14.42-47.89 14.42-20.03 38.76-32.02 52.05-24.78 103.35-39.51 51.31-14.73 123.47-14.73 72.15 0 123.46 14.73 51.31 14.73 103.35 39.51 24.34 11.99 38.76 32.02 14.43 20.04 14.43 47.89v24.31q0 15.3-11.97 28.42-11.96 13.12-29.57 13.12H145.38q-17.61 0-29.57-11.97-11.96-11.96-11.96-29.57v-24.31Zm710.77 65.85h-79.7q4.08-9.54 6.5-20.12 2.43-10.58 2.43-21.42v-26.16q0-34.77-14.08-65.64-14.07-30.87-39.92-52.97 29.46 6 56.77 16.65 27.3 10.66 54 23.96 26 13.08 40.77 33.47 14.76 20.4 14.76 44.53v26.16q0 17.61-11.96 29.57-11.96 11.97-29.57 11.97ZM383.85-504.62q-49.5 0-84.75-35.25t-35.25-84.75q0-49.5 35.25-84.75t84.75-35.25q49.5 0 84.75 35.25t35.25 84.75q0 49.5-35.25 84.75t-84.75 35.25Zm290.77-120q0 49.5-35.25 84.75t-84.75 35.25q-2.54 0-6.47-.57-3.92-.58-6.46-1.27 20.33-24.9 31.24-55.24 10.92-30.34 10.92-63.01t-11.43-62.44q-11.42-29.77-30.73-55.62 3.23-1.15 6.46-1.5 3.23-.35 6.47-.35 49.5 0 84.75 35.25t35.25 84.75ZM143.85-255.38h480v-25.85q0-14.08-7.04-24.62-7.04-10.53-25.27-20.15-44.77-23.92-94.39-36.65-49.61-12.73-113.3-12.73-63.7 0-113.31 12.73-49.62 12.73-94.39 36.65-18.23 9.62-25.27 20.15-7.03 10.54-7.03 24.62v25.85Zm240-289.24q33 0 56.5-23.5t23.5-56.5q0-33-23.5-56.5t-56.5-23.5q-33 0-56.5 23.5t-23.5 56.5q0 33 23.5 56.5t56.5 23.5Zm0 289.24Zm0-369.24Z"/>
                                <TextBlock Grid.Column="1" Foreground="White" VerticalAlignment="Bottom">Группы полномочий</TextBlock>

                                <TextBlock Grid.Column="1" Grid.Row="1" VerticalAlignment="Top" Margin="0,0,5,5" >
                                    <Run>Чтобы настроить класс, </Run>
                                    <Hyperlink IsEnabled="{Binding EditingWorkspaceEnabled}" Click="EditGroupsClick">нажмите сюда.</Hyperlink>
                                    <Run>Чтобы исправить класс, </Run>
                                    <Hyperlink Click="FixGroupsMapClick" IsEnabled="{Binding EditingWorkspaceEnabled}">нажмите сюда.</Hyperlink>
                                </TextBlock>
                            </Grid>
                        </Border>
                        <Border Visibility="{Binding EditingWorkspaceVisibility}" Margin="5" CornerRadius="8" MinWidth="100" BorderThickness="1" BorderBrush="#7F1E90FF" Background="#331E90FF">
                            <Grid MinHeight="60">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Path Fill="{StaticResource PrimaryMain}" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="Uniform" Grid.RowSpan="2" Data="M7.1039,18.1965A11.4972,11.4972,0,0,1,9.81,16.7457a8.7947,8.7947,0,0,1,3.098-.5337,8.7947,8.7947,0,0,1,3.098.5337,11.4978,11.4978,0,0,1,2.7058,1.4508,8.0218,8.0218,0,0,0,1.5932-2.421,7.6455,7.6455,0,0,0,.603-3.0635A7.712,7.712,0,0,0,18.57,7.05,7.7116,7.7116,0,0,0,12.9076,4.712,7.7116,7.7116,0,0,0,7.2451,7.05,7.712,7.712,0,0,0,4.9076,12.712a7.6455,7.6455,0,0,0,.603,3.0635A8.02,8.02,0,0,0,7.1039,18.1965Zm5.8042-4.9845a2.9644,2.9644,0,0,1-3-2.9995A2.9643,2.9643,0,0,1,12.9071,7.212a2.9641,2.9641,0,0,1,3.0005,2.9995,2.9643,2.9643,0,0,1-3,3.0005Zm0,8.5a8.8842,8.8842,0,0,1-3.525-.701,8.8923,8.8923,0,0,1-4.774-4.774,8.8849,8.8849,0,0,1-.701-3.525,8.8842,8.8842,0,0,1,.701-3.525,8.8914,8.8914,0,0,1,4.774-4.774,8.8825,8.8825,0,0,1,3.525-.701,8.8825,8.8825,0,0,1,3.525.701,8.8905,8.8905,0,0,1,4.774,4.774,8.8842,8.8842,0,0,1,.701,3.525,8.8849,8.8849,0,0,1-.701,3.525,8.8914,8.8914,0,0,1-4.774,4.774A8.8842,8.8842,0,0,1,12.9076,21.712Zm0-1a7.9521,7.9521,0,0,0,2.7213-.4838,7.3019,7.3019,0,0,0,2.3132-1.324,7.6681,7.6681,0,0,0-2.2557-1.2375,8.2476,8.2476,0,0,0-2.7788-.4547,8.4948,8.4948,0,0,0-2.7885.4452,7.0157,7.0157,0,0,0-2.246,1.247,7.3013,7.3013,0,0,0,2.3133,1.324A7.9512,7.9512,0,0,0,12.9076,20.712Zm0-8.5a1.9765,1.9765,0,0,0,2-2,2.01,2.01,0,0,0-3.4212-1.4213,2.0343,2.0343,0,0,0,0,2.8425A1.9327,1.9327,0,0,0,12.9076,12.212Z"/>
                                <TextBlock Grid.Column="1" Foreground="White" VerticalAlignment="Bottom">Пользователи</TextBlock>

                                <TextBlock Grid.Column="1" Grid.Row="1" VerticalAlignment="Top" Margin="0,0,5,5">
                                    <Run>Чтобы настроить класс, </Run>
                                    <Hyperlink IsEnabled="{Binding EditingWorkspaceEnabled}" Click="EditUsersClick">нажмите сюда.</Hyperlink>
                                    <Run>Чтобы исправить класс, </Run>
                                    <Hyperlink Click="FixUsersMapClick" IsEnabled="{Binding EditingWorkspaceEnabled}">нажмите сюда.</Hyperlink>
                                </TextBlock>
                            </Grid>
                        </Border>
                        <Border Visibility="{Binding NoAccessLabelVisibility}">
                            <Grid MinHeight="200" >
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition MinHeight="80"/>
                                    <RowDefinition MinHeight="80"/>
                                </Grid.RowDefinitions>
                                <Path VerticalAlignment="Bottom" HorizontalAlignment="Center" Margin="0,0,0,15" MinWidth="40" MinHeight="40" Stretch="Uniform" MaxWidth="40" MaxHeight="40" Fill="{DynamicResource Icon}" Data="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0m-9 8c0 1 1 1 1 1h5v-1a2 2 0 0 1 .01-.2 4.49 4.49 0 0 1 1.534-3.693Q8.844 9.002 8 9c-5 0-6 3-6 4m7 0a1 1 0 0 1 1-1v-1a2 2 0 1 1 4 0v1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1zm3-3a1 1 0 0 0-1 1v1h2v-1a1 1 0 0 0-1-1"/>
                                <Label Style="{DynamicResource LabelPrimary}" Grid.Row="1" Content="У вас нет доступа к первичным настройкам" Foreground="{DynamicResource Icon}" HorizontalAlignment="Center" VerticalAlignment="Top"/>
                            </Grid>
                        </Border>
                    </StackPanel>
                </GroupBox>
            </TabItem>
            <TabItem Header="Константы" BorderBrush="{DynamicResource LightPurple}">
                <GroupBox Header="Глобальные константы">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="1*" MaxWidth="300"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="40"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <WrapPanel Orientation="Horizontal" Grid.ColumnSpan="2">
                            <Button Style="{StaticResource ButtonRectangle}" Padding="0" Click="AddConstantClick" HorizontalAlignment="Left">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="{StaticResource Buttons.Green}" Stretch="Uniform" Data="M11 13a5 5 0 1 0-4.975-5.5H4A1.5 1.5 0 0 0 2.5 6h-1A1.5 1.5 0 0 0 0 7.5v1A1.5 1.5 0 0 0 1.5 10h1A1.5 1.5 0 0 0 4 8.5h2.025A5 5 0 0 0 11 13m.5-7.5v2h2a.5.5 0 0 1 0 1h-2v2a.5.5 0 0 1-1 0v-2h-2a.5.5 0 0 1 0-1h2v-2a.5.5 0 0 1 1 0" VerticalAlignment="Center"/>
                                    <Label Foreground="White" Content="Добавить константу"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource ButtonRectangle}" Click="EditConstantClick" Padding="0">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="{StaticResource Buttons.Green}" VerticalAlignment="Center" Stretch="Uniform" Data="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                    <Label Foreground="White" Content="Редактировать"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource ButtonRectangle}" Click="RemoveConstantClick" Padding="0">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="{StaticResource Buttons.Red}" Stretch="Uniform" Data="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z" VerticalAlignment="Center"/>
                                    <Label Foreground="White" Content="Удалить"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource ButtonRectangle}" Click="UpdateConstantsClick" Padding="0">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="DodgerBlue" Stretch="Uniform" Data="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9 M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z" VerticalAlignment="Center"/>
                                    <Label Foreground="White" Content="Обновить"/>
                                </StackPanel>
                            </Button>
                        </WrapPanel>
                        <ListBox Style="{StaticResource ListBoxMain}" ItemsSource="{Binding Constants}" SelectedItem="{Binding SelectedConstant}" ItemContainerStyle="{StaticResource ListBoxItemGray}" Grid.Row="1" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <Path Fill="{StaticResource DarkYellow}" Margin="0,0,5,0" Data="M2.114 8.063V7.9c1.005-.102 1.497-.615 1.497-1.6V4.503c0-1.094.39-1.538 1.354-1.538h.273V2h-.376C3.25 2 2.49 2.759 2.49 4.352v1.524c0 1.094-.376 1.456-1.49 1.456v1.299c1.114 0 1.49.362 1.49 1.456v1.524c0 1.593.759 2.352 2.372 2.352h.376v-.964h-.273c-.964 0-1.354-.444-1.354-1.538V9.663c0-.984-.492-1.497-1.497-1.6M13.886 7.9v.163c-1.005.103-1.497.616-1.497 1.6v1.798c0 1.094-.39 1.538-1.354 1.538h-.273v.964h.376c1.613 0 2.372-.759 2.372-2.352v-1.524c0-1.094.376-1.456 1.49-1.456V7.332c-1.114 0-1.49-.362-1.49-1.456V4.352C13.51 2.759 12.75 2 11.138 2h-.376v.964h.273c.964 0 1.354.444 1.354 1.538V6.3c0 .984.492 1.497 1.497 1.6"/>
                                        <TextBlock Text="{Binding Name}" TextElement.FontWeight="Bold"/>
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                        <Border Grid.Row="1" Grid.Column="1" Margin="5" CornerRadius="8" Background="{StaticResource Black}">
                            <TextBlock Text="{Binding SelectedConstant.Value}" TextWrapping="WrapWithOverflow" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </Grid>
                </GroupBox>
            </TabItem>
            <TabItem Header="Перечисления" BorderBrush="{DynamicResource LightPurple}">
                <GroupBox Header="Глобальные перечисления">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="4*" MinWidth="250"/>
                            <ColumnDefinition Width="6*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="40"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <WrapPanel Orientation="Horizontal" Grid.ColumnSpan="2">
                            <Button Style="{StaticResource ButtonRectangle}" Padding="0" Click="AddEnumerationClick" HorizontalAlignment="Left">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="{StaticResource Buttons.Green}" Stretch="Uniform" Data="M11 13a5 5 0 1 0-4.975-5.5H4A1.5 1.5 0 0 0 2.5 6h-1A1.5 1.5 0 0 0 0 7.5v1A1.5 1.5 0 0 0 1.5 10h1A1.5 1.5 0 0 0 4 8.5h2.025A5 5 0 0 0 11 13m.5-7.5v2h2a.5.5 0 0 1 0 1h-2v2a.5.5 0 0 1-1 0v-2h-2a.5.5 0 0 1 0-1h2v-2a.5.5 0 0 1 1 0" VerticalAlignment="Center" />
                                    <Label Foreground="White" Content="Добавить перечисление"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource ButtonRectangle}" Padding="0" Click="EditEnumerationClick">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="{StaticResource Buttons.Green}" Stretch="Uniform" VerticalAlignment="Center" Data="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                    <Label Foreground="White" Content="Редактировать"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource ButtonRectangle}" Padding="0" Click="RemoveEnumerationClick">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="{StaticResource Buttons.Red}" Stretch="Uniform" Data="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z" VerticalAlignment="Center" />
                                    <Label Foreground="White" Content="Удалить"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource ButtonRectangle}" Padding="0" Click="UpdateEnumerationsClick">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="DodgerBlue" Stretch="Uniform" Data="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9 M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z" VerticalAlignment="Center"/>
                                    <Label Foreground="White" Content="Обновить"/>
                                </StackPanel>
                            </Button>
                        </WrapPanel>
                        <ListBox Style="{StaticResource ListBoxMain}" ItemContainerStyle="{StaticResource ListBoxItemGray}" ItemsSource="{Binding Enumerations}" SelectedItem="{Binding SelectedEnumeration}" Grid.Row="1" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <Path Fill="{StaticResource DarkYellow}" RenderOptions.BitmapScalingMode="NearestNeighbor" Margin="0,0,5,0" Data="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
                                        <TextBlock Text="{Binding Name}" TextElement.FontWeight="Bold"/>
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                        <ListBox Style="{StaticResource ListBoxMain}" Grid.Row="1" Grid.Column="1" ItemsSource="{Binding SelectedEnumValues}" SelectionChanged="ListBox_SelectionChanged">

                        </ListBox>
                    </Grid>
                </GroupBox>
            </TabItem>
            <TabItem Header="Конвертеры" BorderBrush="{DynamicResource LightPurple}">
                <GroupBox Header="Конвертеры">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="40"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <WrapPanel Orientation="Horizontal" Grid.ColumnSpan="2">
                            <Button Style="{StaticResource ButtonRectangle}" Padding="0" Click="AddEnumerationClick" HorizontalAlignment="Left">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="{StaticResource Buttons.Green}" Stretch="Uniform" Data="M11 13a5 5 0 1 0-4.975-5.5H4A1.5 1.5 0 0 0 2.5 6h-1A1.5 1.5 0 0 0 0 7.5v1A1.5 1.5 0 0 0 1.5 10h1A1.5 1.5 0 0 0 4 8.5h2.025A5 5 0 0 0 11 13m.5-7.5v2h2a.5.5 0 0 1 0 1h-2v2a.5.5 0 0 1-1 0v-2h-2a.5.5 0 0 1 0-1h2v-2a.5.5 0 0 1 1 0" VerticalAlignment="Center"/>
                                    <Label Foreground="White" Content="Добавить конвертер"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource ButtonRectangle}" Padding="0" Click="EditEnumerationClick">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="{StaticResource Buttons.Green}" VerticalAlignment="Center" Stretch="Uniform" Data="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                    <Label Foreground="White" Content="Редактировать"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource ButtonRectangle}" Padding="0" Click="RemoveEnumerationClick">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="{StaticResource Buttons.Red}" Stretch="Uniform" Data="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z" VerticalAlignment="Center" />
                                    <Label Foreground="White" Content="Удалить"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource ButtonRectangle}" Padding="0" Click="UpdateEnumerationsClick">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="DodgerBlue" Stretch="Uniform" Data="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9 M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z" VerticalAlignment="Center"/>
                                    <Label Foreground="White" Content="Обновить"/>
                                </StackPanel>
                            </Button>
                        </WrapPanel>
                        <ListBox Style="{StaticResource ListBoxMain}" ItemContainerStyle="{StaticResource ListBoxItemGray}" ItemsSource="{Binding Conversions}" SelectedItem="{Binding SelectedConversion}" Grid.Row="1" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <Path Fill="{StaticResource DarkYellow}" RenderOptions.BitmapScalingMode="NearestNeighbor" Margin="0,0,5,0" Data="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
                                        <TextBlock Text="{Binding Name}" TextElement.FontWeight="Bold"/>
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </Grid>
                </GroupBox>
            </TabItem>
            <TabItem Header="Обобщения" BorderBrush="{DynamicResource LightPurple}">
                <GroupBox Header="Обобщения">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="40"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <WrapPanel Orientation="Horizontal" Grid.ColumnSpan="2">
                            <Button Style="{StaticResource ButtonRectangle}" Padding="0" HorizontalAlignment="Left" Click="AddGeneralizator">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="{StaticResource Buttons.Green}" Stretch="Uniform" Data="M11 13a5 5 0 1 0-4.975-5.5H4A1.5 1.5 0 0 0 2.5 6h-1A1.5 1.5 0 0 0 0 7.5v1A1.5 1.5 0 0 0 1.5 10h1A1.5 1.5 0 0 0 4 8.5h2.025A5 5 0 0 0 11 13m.5-7.5v2h2a.5.5 0 0 1 0 1h-2v2a.5.5 0 0 1-1 0v-2h-2a.5.5 0 0 1 0-1h2v-2a.5.5 0 0 1 1 0" VerticalAlignment="Center"/>
                                    <Label Foreground="White" Content="Добавить обобщение"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource ButtonRectangle}" Padding="0">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="{StaticResource Buttons.Green}" Stretch="Uniform" VerticalAlignment="Center" Data="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                    <Label Foreground="White" Content="Редактировать"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource ButtonRectangle}" Padding="0">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="{StaticResource Buttons.Red}" Stretch="Uniform" Data="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z" VerticalAlignment="Center" />
                                    <Label Foreground="White" Content="Удалить"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource ButtonRectangle}" Padding="0">
                                <StackPanel Orientation="Horizontal" Margin="8,0,8,0">
                                    <Path Fill="DodgerBlue" Stretch="Uniform" Data="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9 M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z" VerticalAlignment="Center"/>
                                    <Label Foreground="White" Content="Обновить"/>
                                </StackPanel>
                            </Button>
                        </WrapPanel>
                        <ListBox Style="{StaticResource ListBoxMain}" ItemsSource="{Binding Constants}" SelectedItem="{Binding SelectedConstant}" Grid.Row="1" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <Path Fill="{StaticResource Buttons.Green}" Margin="0,0,5,0" Stretch="Uniform" Height="15" Width="15" Data="m586.92-427.15 101.54-57q7.46-4.23 11.81-12.2 4.35-7.96 4.35-16.65v-115.54q0-8.69-4.35-16.65-4.35-7.96-11.81-12.19l-101.54-57q-7.46-4.24-16.15-4.24-8.69 0-16.15 4.24l-101.54 57q-7.46 4.23-11.81 12.19-4.35 7.96-4.35 16.65V-513q0 8.69 4.35 16.65 4.35 7.97 11.81 12.2l101.54 57q7.46 4.23 16.15 4.23 8.69 0 16.15-4.23ZM366.15-301.54q-27.61 0-46.11-18.5t-18.5-46.11v-409.23q0-27.62 18.5-46.12 18.5-18.5 46.11-18.5h409.23q27.62 0 46.12 18.5Q840-803 840-775.38v409.23q0 27.61-18.5 46.11t-46.12 18.5H366.15Zm0-40h409.23q10.77 0 17.7-6.92 6.92-6.92 6.92-17.69v-409.23q0-10.77-6.92-17.7-6.93-6.92-17.7-6.92H366.15q-10.77 0-17.69 6.92-6.92 6.93-6.92 17.7v409.23q0 10.77 6.92 17.69 6.92 6.92 17.69 6.92Zm204.62-229.23ZM218-164Zm29.23 36.69q-26.85 3.23-47.96-12.92-21.12-16.15-24.35-43l-49.15-388.54q-3.23-26.85 13.54-48.61 16.77-21.77 43.61-24.47l17.39-.77q8.54-.69 15.11 4.77 6.58 5.47 6.58 15 0 7.31-5.12 13.31-5.11 6-12.42 6.69l-15.61.77q-10.77.77-16.93 8.85-6.15 8.08-4.61 18.85l47.84 388.76q1.54 10.77 9.23 16.93 7.7 6.15 18.47 4.61l470.92-58.77q8.54-1.23 15 3.77 6.46 5 7.69 13.54 1.23 8.54-3.77 14.5-5 5.96-13.54 7.19l-471.92 59.54Zm323.54-336.23-93.85-53.23v-108L570.77-678l93.85 53.23v108l-93.85 53.23Z"/>
                                        <TextBlock Text="{Binding Name}" TextElement.FontWeight="Bold"/>
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </Grid>
                </GroupBox>
            </TabItem>
            
        </TabControl>
        
        <GridSplitter Grid.RowSpan="2"/>
        
    </Grid>
</UserControl>
