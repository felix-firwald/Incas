<Window x:Class="Incas.Objects.Views.Windows.DatabaseSelection"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Incas.Objects.Views.Windows" xmlns:fa="http://schemas.fontawesome.io/icons/"
        mc:Ignorable="d"
        Title="Выбор объекта" Height="650" Width="800" MinHeight="450" ResizeMode="NoResize" MinWidth="650" Style="{DynamicResource WindowBase}" Background="{StaticResource Dark}" SnapsToDevicePixels="True" UseLayoutRounding="True" Topmost="True" WindowStartupLocation="CenterScreen">
    <Grid x:Name="MainGrid" Margin="5">

        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <RowDefinition Height="25*"/>
            <RowDefinition Height="40"/>
        </Grid.RowDefinitions>
        <Grid Grid.Column="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition MaxWidth="300"/>
            </Grid.ColumnDefinitions>
            <TextBox x:Name="SearchText" Style="{DynamicResource TextBoxMain}" Tag="Поиск по указанному полю" Margin="40,5,5,5" Cursor="IBeam">
                <TextBox.ContextMenu>
                    <ContextMenu>

                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
            <ComboBox x:Name="Fields" Style="{DynamicResource ComboBoxMain}" Cursor="Hand" Grid.Column="1" Margin="5,5,40,5"/>
            <Button Style="{StaticResource ButtonSquare}" Click="SearchClick" ToolTip="Найти список объектов по критерию (F)" HorizontalAlignment="Left">
                <Path Fill="{StaticResource PrimaryMain}" Data="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" VerticalAlignment="Center"/>
            </Button>
            
            <!--<fa:FontAwesome Icon="Search" Style="{DynamicResource IconButton}" MouseDown="SearchClick" HorizontalAlignment="Left"/>
            <fa:FontAwesome Icon="Remove" Style="{DynamicResource IconButton}" MouseDown="ClearClick" HorizontalAlignment="Right" Grid.Column="1"/>-->
            <Button Style="{StaticResource ButtonSquare}" Click="ClearClick" ToolTip="Отменить результат поиска объектов" Grid.Column="1" Cursor="Hand" HorizontalAlignment="Right">
                <Path Fill="{StaticResource Buttons.Red}" Data="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0 M 3.146 3.146 a 0.5 0.5 0 0 1 0.708 0 L 6.5 5.793 l 2.646 -2.647 a 0.5 0.5 0 0 1 0.708 0.708 L 7.207 6.5 l 2.647 2.646 a 0.5 0.5 0 0 1 -0.708 0.708 L 6.5 7.207 l -2.646 2.647 a 0.5 0.5 0 0 1 -0.708 -0.708 L 5.793 6.5 L 3.146 3.854 a 0.5 0.5 0 0 1 0 -0.708" VerticalAlignment="Center"/>
            </Button>
        </Grid>

        <DataGrid x:Name="Grid" Style="{DynamicResource DataGridMain}" Background="{DynamicResource Black}" RowHeight="30" AutoGeneratingColumn="Grid_AutoGeneratingColumn" IsReadOnly="True" CanUserAddRows="False" CanUserDeleteRows="False" SelectionMode="Single" HeadersVisibility="Column" Margin="5,5,5,5" Grid.Row="1" SelectionChanged="OnSelectionChanged" VirtualizingStackPanel.VirtualizationMode="Recycling" VirtualizingStackPanel.IsVirtualizing="true" EnableColumnVirtualization="True" EnableRowVirtualization="True">
            <DataGrid.RowStyle>
                <Style TargetType="{x:Type DataGridRow}" BasedOn="{StaticResource RowMain}">
                    <EventSetter Event="MouseDoubleClick" Handler="OnMouseDoubleClick"/>
                </Style>
            </DataGrid.RowStyle>
        </DataGrid>
        <StackPanel Grid.Row="2" Orientation="Horizontal" Cursor="">
            <Button x:Name="AddButton" Style="{StaticResource ButtonRectangle}"  Click="SelectClick" IsDefault="True" ToolTip="Применить выбранный объект">
                <StackPanel Orientation="Horizontal" Margin="5,2,5,2">
                    <Path Fill="{StaticResource Buttons.Green}" VerticalAlignment="Center" Stretch="Uniform" Margin="5" Data="M407.6-305.38q103.17 0 175.09-72.22 71.93-72.22 71.93-175.39 0-103.16-72.06-175.47t-175-72.31q-102.94 0-175.25 72.22T160-553.17q0 103.17 72.22 175.48 72.21 72.31 175.38 72.31Zm-40.37-195.08-67-66.77q-5.85-5.85-13.77-6.23-7.92-.39-14.54 6.23-6.61 6.61-6.73 14.15-.11 7.54 6.5 14.16l72.69 72.69q9.54 9.69 22.66 9.69 13.11 0 22.81-9.69l153.07-153.62q5.85-5.84 6.23-13.88.39-8.04-6.23-14.65-6.61-6.62-14.27-6.62-7.65 0-14.27 6.62L367.23-500.46Zm40.46 235.08q-119.38 0-203.54-84.16Q120-433.69 120-553.08q0-119.38 84.15-203.54 84.16-84.15 203.54-84.15 119.39 0 203.16 84.15 83.77 84.16 83.77 203.54 0 54.34-18.66 102.36-18.65 48.03-51.42 85.95l202.08 202.08q5.84 5.64 5.84 13.4 0 7.75-6.01 14.37-6 6.61-14.27 6.61-8.26 0-14.87-6.61L596-336.23q-37.92 33.54-85.95 52.19-48.03 18.66-102.36 18.66Zm0-287.7Z"/>
                    <Label Content="Выбрать" FontFamily="{StaticResource Rubik}" VerticalAlignment="Center" Padding="5,0,5,0" Foreground="White"/>
                </StackPanel>
            </Button>
        </StackPanel>
    </Grid>
</Window>
